

LAB6=D:\Programs\IntelliJ IDEA Projects\TestLAB6\Flat.xml

Разделить программу из лабораторной работы №5 на клиентский и серверный модули. Серверный модуль должен осуществлять выполнение команд по управлению коллекцией. Клиентский модуль должен в интерактивном режиме считывать команды, передавать их для выполнения на сервер и выводить результаты выполнения.

Необходимо выполнить следующие требования:
1. Операции обработки объектов коллекции должны быть реализованы с помощью Stream API с использованием лямбда-выражений. 
2. Объекты между клиентом и сервером должны передаваться в сериализованном виде. 
3. Объекты в коллекции, передаваемой клиенту, должны быть отсортированы по названию 
4. Клиент должен корректно обрабатывать временную недоступность сервера. 
5. Обмен данными между клиентом и сервером должен осуществляться по протоколу TCP 
6. Для обмена данными на сервере необходимо использовать сетевой канал 
7. Для обмена данными на клиенте необходимо использовать потоки ввода-вывода 
8. Сетевые каналы должны использоваться в неблокирующем режиме.


Обязанности серверного приложения:
1. Работа с файлом, хранящим коллекцию.
2. Управление коллекцией объектов.
3. Назначение автоматически генерируемых полей объектов в коллекции.
4. Ожидание подключений и запросов от клиента.
5. Обработка полученных запросов (команд).
6. Сохранение коллекции в файл при завершении работы приложения.
7. Сохранение коллекции в файл при исполнении специальной команды, доступной только серверу (клиент такую команду отправить не может).
8. Серверное приложение должно состоять из следующих модулей (реализованных в виде одного или нескольких классов):
9. Модуль приёма подключений. 
10. Модуль чтения запроса. 
11. Модуль обработки полученных команд. 
12. Модуль отправки ответов клиенту. 
13. Сервер должен работать в однопоточном режиме.

Обязанности клиентского приложения:
1. Чтение команд из консоли.
2. Валидация вводимых данных.
3. Сериализация введённой команды и её аргументов.
4. Отправка полученной команды и её аргументов на сервер.
5. Обработка ответа от сервера (вывод результата исполнения команды в консоль).
6. Команду save из клиентского приложения необходимо убрать.
7. Команда exit завершает работу клиентского приложения.
8. Важно! Команды и их аргументы должны представлять из себя объекты классов. Недопустим обмен "простыми" строками. Так, для команды add или её аналога необходимо сформировать объект, содержащий тип команды и объект, который должен храниться в вашей коллекции.

Дополнительное задание:
* Реализовать логирование различных этапов работы сервера (начало работы, получение нового подключения, получение нового запроса, отправка ответа и т.п.) с помощью Log4J2


Отчёт по работе должен содержать:
1. Текст задания.
2. Диаграмма классов разработанной программы (как клиентского, так и серверного приложения).
3. Исходный код программы.
4. Выводы по работе.


Вопросы к защите лабораторной работы:
1. Сетевое взаимодействие - клиент-серверная архитектура, основные протоколы, их сходства и отличия.
2. Протокол TCP. Классы Socket и ServerSocket.
3. Протокол UDP. Классы DatagramSocket и DatagramPacket.
4. Отличия блокирующего и неблокирующего ввода-вывода, их преимущества и недостатки. Работа с сетевыми каналами.
5. Классы SocketChannel и DatagramChannel.
6. Передача данных по сети. Сериализация объектов.
7. Интерфейс Serializable. Объектный граф, сериализация и десериализация полей и методов.
8. Java Stream API. Создание конвейеров. Промежуточные и терминальные операции.
9. Шаблоны проектирования: Decorator, Iterator, Factory method, Command, Flyweight, Interpreter, Singleton, Strategy, Adapter, Facade, Proxy.